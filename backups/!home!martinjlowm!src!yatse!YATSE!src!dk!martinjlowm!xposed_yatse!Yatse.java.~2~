package dk.martinjlowm.xposed_yatse;

import static de.robv.android.xposed.XposedHelpers.findAndHookMethod;
import static de.robv.android.xposed.XposedHelpers.findField;
import static de.robv.android.xposed.XposedHelpers.callMethod;
import de.robv.android.xposed.XposedBridge;
import de.robv.android.xposed.IXposedHookInitPackageResources;
import de.robv.android.xposed.XC_MethodHook;
import de.robv.android.xposed.callbacks.XC_LoadPackage.LoadPackageParam;
import de.robv.android.xposed.callbacks.XC_InitPackageResources.InitPackageResourcesParam;
import de.robv.android.xposed.callbacks.XC_LayoutInflated;

import android.widget.LinearLayout;

import java.util.List;
import java.net.URI;

public class Yatse implements IXposedHookInitPackageResources
{
    @Override
    public void handleInitPackageResources(InitPackageResourcesParam resparam) throws Throwable {
        if (!resparam.packageName.equals("org.leetzone.android.yatsewidgetfree"))
            return;

        resparam.res.hookLayout("org.leetzone.android.yatsewidgetfree", "layout", "include_remote_control", new XC_LayoutInflated() {
                @Override
                public void handleLayoutInflated(LayoutInflatedParam liparam) throws Throwable {
                    LinearLayout layout = (LinearLayout) liparam.view.findViewById(liparam.res.getIdentifier("remote_bar3", "id", "org.leetzone.android.yatsewidgetfree"));
                    layout.removeAllViews();
                }
            });
    }
}
