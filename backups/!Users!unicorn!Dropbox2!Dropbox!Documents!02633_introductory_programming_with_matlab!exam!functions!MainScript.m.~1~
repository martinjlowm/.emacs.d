%{
Script written by:
s123019 - Martin Kristiansen
s124320 - Martin Jesper Low Madsen
%}
clc;
clear all;
close all;

quit = 0;
dataLoaded = 0;
fprintf('Welcome to the grading program\n')
while ~quit
    fprintf(['What would you like to do?\n'...
    '1. Load New Data\n'...
    '2. Check for data errors\n'...
    '3. Generate plots\n'...
    '4. Display list of grades\n'...
    '5. Quit\n']);
    while 1
        userInput = str2double(input('Enter the number of desired action: ','s'));
        if (~isnan(userInput) && userInput >=1 && userInput<=5)
            break;
        end
        disp('Not a number in range. Please try again.')
    end
    clc;
    fprintf('Status:\n');
    switch userInput
        case 1 % Load New data
            [FileName,PathName] = uigetfile('*.csv','Select the grade CSV file');
            grades = readtable([PathName FileName]);
            fprintf('Grades loaded.');
            dataLoaded = 1;
        case 2 % Check for data errors
            fprintf('nothing yet2');
        case 3 % Generate plots
            if dataLoaded
                gradesPlot(grades{:,3:end});
            else
                fprintf('No data have been loaded yet.\nTry loading data first.');
            end        
        case 4 % Display list of grades
            if dataLoaded
                disp(grades);
            else
                fprintf('No data have been loaded yet.\nTry loading data first.');
            end
        case 5 % Quit
            quit = 1;
        otherwise
            fprintf('Invalid number. Please try again.')
    end
    fprintf('\n\n');    
end