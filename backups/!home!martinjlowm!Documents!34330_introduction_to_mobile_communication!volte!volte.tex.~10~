% arara: lualatex: { shell : yes }
% arara: lualatex: { shell : yes }
% arara: bibtex
% arara: lualatex: { shell : yes }
% arara: lualatex: { shell : yes }
% arara: remove: { items: [ log, aux, toc, bbl, blg, pyg ] }
\documentclass[12pt]{rapport}
\usepackage{minted}

\usemintedstyle{solarizedlight}
\usepackage[hyphens]{url}
\bibliographystyle{apalike3}
\title{Voice over LTE, VoLTE}
\course{34330: Introduction to Mobile Communication}
\author{Martin Jesper Low Madsen (s124320)}
\date{December 5, 2014}
\supervisor{}

\def\arraystretch{1.2}
\begin{document}
\maketitle
\newpage
\tableofcontents
\thispagestyle{empty}
\newpage
\section{Introduction}
% eventually look into other alternatives: VoLGA, VoIP (UDP)
The use of mobile communication networks are changing. With new
technologies pushing toward the 5th generation of mobile networks, the
rate at which data is transmitted is increasing and the high user
demands are migrating from a regular circuit- and packet
switched network to a solely packet switched solution, first
introduced by \textit{long term evolution}, LTE networks.

For network service providers to ensure their subscribers a good
\textit{quality of service}, QoS, many offer a \textit{circuit
  switched fall-back}, CSFB solution to previous generation networks
which enables backwards compatibility or a \textit{generic access
  network}, GAN-based solution for dual-mode capable phones using LTE
instead of WiFi. The fall-back procedure has its drawbacks and by
looking for a better solution, the fifth release of the \textit{3rd
  generation partnership project}, 3GPP standards introduced
\textit{Internet protocol multimedia subsystem}, IMS. IMS is the main
element in voice communication over LTE and this report documents its
components and how it allows voice communication to interconnect
between circuit- and packet switched networks. The result is what is
known as \textit{voice over LTE}, VoLTE.

The report is laid out as follows. The basic architecture of LTE and
the appended IP subsystem is introduced in section
\ref{sec:arch}. Section \ref{sec:ims} looks closer at IMS, its
components and what protocols are used in the realization of VoLTE.
Finally, section \ref{sec:conclusion} ends by concluding the findings
of VoLTE and its elements.

% Walk through PS nodes of a LTE network
% What difficulties come up for CS communication
% CSFB - Circuit Switched Fall Back
% - Longer call set-up times
% IMS and SIP/SDP walk through
% https://tools.ietf.org/html/rfc4566
% - RTP/UDP/IP for transport protocol
% - The multicast group address for media - conference calls built-in feature
% http://tools.ietf.org/html/rfc4145
\newpage
\section{Architecture}
\label{sec:arch}

The overall architecture of an LTE network is different than its
predecessors and \textit{circuit switched}, CS communication is no
longer supported. This leaves out the possibility to perform CS voice
calls in a normal LTE network. Instead, \textit{packet switched}, PS
voice communication is possible by using Internet related
protocols. In a PS conversation between two users, voice data is
sampled and converted to a binary format which is then encapsulated in
a packet and forwarded to the receiver. The packet is routed on the
Internet using a transport protocol, the IP protocol and lower level
protocols depending on the medium. This way, LTE mobile phone users
may communicate with LTE capable phones or any other device
connected to the Internet. Today, software such as
Skype\footnote{Skype: \url{http://www.skype.com/en/}} and Google
Hangouts\footnote{Google Hangouts:
  \url{http://www.google.com/hangouts/}} provide this type of
communication on multiple platforms. This type of communication is
usually referred to as \textit{voice over IP}, VoIP.

\begin{figure}[H]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/lte_architecture}
  \caption{LTE network architecture. The dashed lines represent
    the control plane and the non-dashed the user plane. The IP
    multimedia subsystem is highlighted with a green glow and is the
    part which makes packet based voice communication in LTE
    possible.}
  \label{fig:lte_arch}
\end{figure}

By looking at the architecture on figure \ref{fig:lte_arch}, it can be
seen that just a few nodes make up the important parts of the access-
and core network. A cloud of eNodeBs make up the access network and
the \textit{mobility management entity}, MME, \textit{serving
  gateway}, SGW, \textit{packet data network gateway}, PDNGW,
\textit{policy control resource function}, PCRF and \textit{home
  subscription server}, HSS make the core network where the IMS is a
subsystem, as the name implies. The following two subsections look
closer at these networks individually.
\subsection{Access Network}
Like previous generations of mobile networks the outer most node
closest to the \textit{user equipment}, UE, is the transceiver and in LTE
it has evolved into an eNodeB which handles additional services such
as radio resources, user scheduling, retransmissions and mobility
management. To fully take advantage of these extra services, a set of
eNodeBs can be interconnected and coordinate its functions through an
X2 interface. This is especially useful in mobility cases with an
ongoing packet based voice call where cached packets can be forwarded
directly to the new serving eNodeB. In cases where eNodeBs aren't
directly connected, mobility management is handled via the MME in
the core network through an S1 interface. In terms of communication,
data consists solely of packets and it applies to voice communication
as well. The initial payload of an IP packet is partly represented as
a digital sampled version of a voice signal. In order to pass any VoIP
packets on to the circuit switched network, this digital data must be
converted to a supported analog signal. Conversion in the access
network is expensive and the initial routing of packets will be lost,
thus this must be done in the core network.

\subsection{Core Network}
Voice over LTE with backwards compatibility of CS communication should
be implemented some place in the core network, where the procotol
routing information is no longer necessary. One VoLTE approach to do
this for dual-mode phones is \textit{voice over LTE via generic access},
VoLGA. By reusing the GAN approach, the WiFi part is replaced by
LTE. VoLGA adds a \textit{VoLGA access network controller}, VANC that
mostly acts like a \textit{base station controller}, BSC or
\textit{radio network controller}, RNC. The VANC performs CS and PS
data transcoding and conversion, thus actual communication is
transparent to the user and the previous generation networks sees the
LTE-phone as a regular phone that supports circuit switched
data. Voice packet data is transferred using the \textit{real-time
  transfer protocol}, RTP \cite{sauter2009voice}. VoLGA focuses on
backward compatibility and its appended architecture makes the LTE
appear like an old generation network, thus call control is handled on
the circuit switched part.

3GPP proposes a solution that focuses on a packet based call control
and enables CS communication through a gateway using IMS. Both
architectures utilize the \textit{Internet engineering task force},
IETF defined \textit{request for comment}, RFC standards, namely
\textit{session initiation protocol}, SIP, \textit{session description
  protocol}, SDP and RTP. The PDNGW's function remains and continues
to connect to other PS networks, while the actual call control is
initiated in the IMS. Referring to figure \ref{fig:lte_arch}, the user
plane extends to the IMS for CS communication through an IMS media
gateway within the IMS node \cite{matteo_ims_volte}. As this is the
case, the IMS must have a control interface to the MME, HSS and PCRF
in order to have a fully functional call control based on mobility
management, user subscription details and billing services. The
media gateway part of IMS should be considered as part of the
transport layer. By further investigating the core network, the IMS
consists of a couple of functions which will be looked into next.

\newpage
\section{IP Multimedia Subsystem}
\label{sec:ims}
The IMS architecture setup allows call initiation and termination
among other things. Since IMS uses the SIP/SDP and RTP protocols which
are Internet based, it fits perfectly into an LTE network. To ensure a
future proof solution, the IMS will be efficient as PS data is
increasing a lot \cite{henrik_misc} and all voice communication could
in fact be supported by this change. This would simplify the global
mobile network, by deprecating the CS core. However, the fixed-line
telephone network also needs to be fully replaced with a similar VoIP
solution.

In order to comply with the protocol standards, the IMS implements
similar functional entities. These and their control interfaces are
illustrated on figure \ref{fig:ims_expanded}.

\begin{figure}[H]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/ims_expanded}
  \caption{The inner architecture of the IMS. Its main elements
    consists of the \textit{multimedia resource function}, MRF,
    \textit{call session control function}, CSCF block,
    \textit{signalling gateway and media-/breakout control function},
    SGW/MGCF/BGCF and \textit{application servers}, AS \cite{koukal2006a}.}
  \label{fig:ims_expanded}
\end{figure}

The CSCF block behaves like a proxy before a voice packet is further
passed on to a target user. This allows the provider to
control policies and billing as well as authentication of the
subscriber. IMS related services are provided through the AS using the
SIP protocol. The MRF cluster provides controlling and processing of
conference bridges, announcements, interactive voice response
etc. Interconnection with CS networks are provided through the
gateway and controllers, SGW/MGCF/BGCF. The media gateway translates between
CS and PS data and the controllers applies necessary services to make
this possible. The breakout gateway decides how to route traffic based
on conventional telephone numbers \cite{matteo_ims_volte}.

\subsection{SIP}

\begin{figure}[H]
  \centering
  \includegraphics[width=0.4\linewidth]{figures/sip_auth}
  \caption{IMS registration process with authentication. The UE first
    sends a user register message to the proxy for the domain. Then
    the proxy responds with an Unauthorized code and appends a
    challenge for the UE. To continue the authentication, the UE
    responds with the recent received challenge, a new register
    message and authentication details. Finally, if successful, the
    proxy responds with an OK code \cite{sip}.}
  \label{fig:sip_auth}
\end{figure}
\subsection{SDP}
\subsection{RTP}

\section{Conclusion}
\label{sec:conclusion}
\bibliography{litterature}

\end{document}